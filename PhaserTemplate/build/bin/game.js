!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,s,n,o,a){var r=t.call(this,e,i,s,n)||this;return r.setInteractive(),r.on("pointerover",function(){return r.setTexture(o)}),r.on("pointerout",function(){return r.setTexture(n)}),r.on("pointerdown",function(){return a()}),e.add.existing(r),r}return n(e,t),e}(Phaser.GameObjects.Image);e.TextImageButton=o;var a=function(t){function e(e,i,s,n,o,a,r,h){var l=t.call(this,e,i,s,n,"",o)||this;return l.on("pointerover",l.onPointerOver),l.on("pointerout",l.onPointerOut),l.on("pointerdown",l.onPointerDown),l.on("pointerup",l.onPointerUp),l.initialY=i,l.initialY=s,l.callback=h,l.setInteractive(new Phaser.Geom.Rectangle(0,0,a,r),Phaser.Geom.Rectangle.Contains),e.add.existing(l),l}return n(e,t),e.prototype.onPointerOver=function(){this.y=this.initialY-.05*this.height,this.setScale(1.1,1.1)},e.prototype.onPointerOut=function(){this.input.enabled&&(this.setScale(1,1),this.y=this.initialY)},e.prototype.onPointerDown=function(){this.setScale(.95,.95),this.y=this.initialY+.025*this.height},e.prototype.onPointerUp=function(){this.setScale(1.1,1.1),this.y=this.initialY-.05*this.height,this.callback()},e.prototype.setTextAndShape=function(t){return this.text=t,this.visible=!0,this.setInteractive(),this},e.prototype.reset=function(){this.setInteractive(),this.setScale(1,1),this.y=this.initialY},e}(Phaser.GameObjects.BitmapText);e.TextButton=a;var r=function(t){function e(e,i,s,n,o,a,r){var h=t.call(this,e,i,s,n)||this;return h.on("pointerover",h.onPointerOver),h.on("pointerout",h.onPointerOut),h.on("pointerdown",h.onPointerDown),h.on("pointerup",h.onPointerUp),h.idle=n,h.hover=o,h.hold=a,h.setInteractive(),h.callback=r,e.add.existing(h),h}return n(e,t),e.prototype.onPointerOver=function(){this.hover?this.setTexture(this.hover):this.setScale(1.1,1.1)},e.prototype.onPointerOut=function(){this.input.enabled&&(this.setTexture(this.idle),this.setScale(1,1))},e.prototype.onPointerDown=function(){this.hold?this.setTexture(this.hold):this.setScale(.95,.95)},e.prototype.onPointerUp=function(){this.hover?this.setTexture(this.idle):(this.setTexture(this.idle),this.setScale(1.1,1.1)),this.callback()},e}(Phaser.GameObjects.Image);e.ImageButton=r},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var s=t.call(this,e,855,165+40*i,"sticker")||this;return s.xInitial=s.x=855,s.yInitial=s.y=165+40*i,s.index=i,e.add.existing(s),s}return n(e,t),e.prototype.addText=function(t,e,i,s){return this.text=t.add.bitmapText(0,0,"arial-rounded",e,16).setTint(4144959),this.text.x=this.xInitial+68.5-this.text.width-20,this.text.y=165+40*this.index-7,this.dropZone=new Phaser.Geom.Circle(i,s,50),this},e.prototype.invert=function(){return this.inverted=!0,this},e.prototype.pick=function(){this.inverted?(this.flipX=!0,this.setOrigin(1,.5)):this.setOrigin(0,.5)},e.prototype.drop=function(t,e){if(this.dropZone.contains(t,e))return this.disableInteractive(),this.move(this.dropZone.x,this.dropZone.y),!0;this.setOrigin(.5,.5),this.x=this.xInitial,this.y=this.yInitial,this.text.x=this.xInitial+48-this.text.width,this.text.y=this.yInitial-9,this.inverted&&(this.flipX=!1)},e.prototype.move=function(t,e){return this.x=t,this.y=e,this.inverted?this.text.x=t-137+20:this.text.x=t+137-20-this.text.width,this.text.y=e-9,this},e}(Phaser.GameObjects.Image);e.DragTag=o;var a=function(t){function e(e,i,s,n,o,a){var r=t.call(this,e,i,s,n,o)||this;return r.xInitial=i,r.yInitial=s,r.dropZone=a,e.add.existing(r),r}return n(e,t),e.prototype.drop=function(t,e){if(this.dropZone.contains(t,e))return this.disableInteractive(),this.setPosition(this.dropZone.centerX,this.dropZone.centerY),!0;this.setPosition(this.xInitial,this.yInitial),this.setScale(.8)},e}(Phaser.GameObjects.Image);e.DragImage=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),n=i(4),o=i(5),a=i(7),r=i(8),h=i(10),l=i(11),u=i(13),c={type:Phaser.AUTO,width:960,height:540,scene:[s.LoadScene,n.MenuScene,o.LupaScene,a.HotspotScene,r.DressScene,h.SequenceScene,l.SoupScene,u.QuizScene],parent:"gameContent",banner:!0,title:"SRT"};function d(){e.SRTGame=new Phaser.Game(c)}e.run=d,window.onload=function(){d()}},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this,{key:"LoadScene"})||this}return n(e,t),e.prototype.preload=function(){this.load.setBaseURL("./bin/assets/"),this.load.image("background","menu/background.png")},e.prototype.create=function(){this.load.image("left-tools","menu/left-tools.png"),this.load.image("right-note","menu/right-note.png"),this.load.image("note-background","menu/note-background.png"),this.load.image("win-background","menu/win-background.png");for(var t=0;t<7;t++)this.load.image("tutorial-"+t,"menu/"+t+".png");this.load.bitmapFont("arial-rounded","fonts/arial-rounded.png","fonts/arial-rounded.fnt"),this.load.image("button-idle","buttons/button-idle.png"),this.load.image("button-hover","buttons/button-hover.png"),this.load.image("button-next-inicio-idle","buttons/next-inicio-idle.png"),this.load.image("button-next-inicio-hold","buttons/next-inicio-hold.png"),this.load.image("button-menu-idle","buttons/menu-idle.png"),this.load.image("button-menu-hold","buttons/menu-hold.png"),this.load.image("button-replay-idle","buttons/replay-idle.png"),this.load.image("button-replay-hold","buttons/replay-hold.png"),this.load.image("button-next-idle","buttons/next-idle.png"),this.load.image("button-next-hold","buttons/next-hold.png"),this.load.image("button-volume-active","/buttons/active-sound.png"),this.load.image("button-volume-deactive","/buttons/deactive-sound.png"),this.load.image("play-button","menu/play-button.png"),this.load.audio("background-music","sound/background-music.mp3"),this.load.audio("victory-sound","sound/victory.mp3"),this.load.audio("down-sound","sound/down.mp3"),this.load.audio("mark-sound","sound/mark.mp3"),this.load.audio("pick-sound","sound/pick.mp3"),this.load.audio("drop-sound","sound/drop.mp3"),this.load.image("book-background","menu/book-background.png");for(t=0;t<13;t++)this.load.image("book-"+t,"menu/book-"+t+".png");for(var e=0;e<6;e++)for(var i=0;i<13;i++)this.load.image("hotspot-scene-"+e+"-"+i,"hotspot/level-"+e+"/"+i+".png");for(e=0;e<3;e++)for(i=0;i<13;i++)this.load.image("lupa-scene-"+e+"-"+i,"lupa/level-"+e+"/"+i+".png");for(t=0;t<13;t++)this.load.image("book-"+t,"menu/book-"+t+".png");this.add.sprite(0,0,"background").setOrigin(0,0),this.loadingBar=this.add.graphics(),this.loadingBar.fillStyle(6139463,1),this.loadingBar.fillRect(this.cameras.main.width/4-2,this.cameras.main.height/2-18,this.cameras.main.width/2+4,20),this.progressBar=this.add.graphics(),this.load.on("progress",function(t){this.progressBar.clear(),this.progressBar.fillStyle(16774867,1),this.progressBar.fillRect(this.cameras.main.width/4,this.cameras.main.height/2-16,this.cameras.main.width/2*t,16)},this),this.load.on("complete",function(){for(var t=this,e=0;e<6;e++)this.anims.create({key:"hotspot-scene-"+e,frames:[{key:"hotspot-scene-"+e+"-0"},{key:"hotspot-scene-"+e+"-1"},{key:"hotspot-scene-"+e+"-2"},{key:"hotspot-scene-"+e+"-3"},{key:"hotspot-scene-"+e+"-4"},{key:"hotspot-scene-"+e+"-5"},{key:"hotspot-scene-"+e+"-6"},{key:"hotspot-scene-"+e+"-7"},{key:"hotspot-scene-"+e+"-8"},{key:"hotspot-scene-"+e+"-9"},{key:"hotspot-scene-"+e+"-10"},{key:"hotspot-scene-"+e+"-11"},{key:"hotspot-scene-"+e+"-12"}],yoyo:!0,repeat:-1,frameRate:16});for(e=0;e<3;e++)this.anims.create({key:"lupa-scene-"+e,frames:[{key:"lupa-scene-"+e+"-0"},{key:"lupa-scene-"+e+"-1"},{key:"lupa-scene-"+e+"-2"},{key:"lupa-scene-"+e+"-3"},{key:"lupa-scene-"+e+"-4"},{key:"lupa-scene-"+e+"-5"},{key:"lupa-scene-"+e+"-6"},{key:"lupa-scene-"+e+"-7"},{key:"lupa-scene-"+e+"-8"},{key:"lupa-scene-"+e+"-9"},{key:"lupa-scene-"+e+"-10"},{key:"lupa-scene-"+e+"-11"},{key:"lupa-scene-"+e+"-12"}],yoyo:!0,repeat:-1,frameRate:16});this.anims.create({key:"book",frames:[{key:"book-0"},{key:"book-1"},{key:"book-2"},{key:"book-3"},{key:"book-4"},{key:"book-5"},{key:"book-6"},{key:"book-7"},{key:"book-8"},{key:"book-9"},{key:"book-10"},{key:"book-11"},{key:"book-12"},{key:"book-background"}],repeat:0,frameRate:16});var i=this.add.graphics();i.fillStyle(0,1),i.fillRect(0,0,960,560),i.alpha=0,this.tweens.add({targets:i,duration:500,alpha:1}),this.time.delayedCall(500,this.scene.start,["MenuScene"],this.scene),this.time.delayedCall(500,function(){t.game.sound.add("background-music",{loop:!0}).play()})},this),this.load.start()},e}(Phaser.Scene);e.LoadScene=o},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=function(t){function e(){return t.call(this,{key:"MenuScene"})||this}return n(e,t),e.prototype.create=function(){var t=this;this.add.image(0,0,"background").setOrigin(0,0),this.add.image(25,0,"left-tools").setOrigin(0,0),this.add.image(768,11,"right-note").setOrigin(0,0);var e=this.add.sprite(113,60,"book-0").setOrigin(0,0);this.playFadeEnterAnimation();var i=this.add.image(600,400,"play-button");i.setInteractive(),i.on("pointerdown",function(){e.play("book"),i.visible=!1,t.time.delayedCall(1e3,function(){return t.start()},[],t)})},e.prototype.start=function(){var t=this;this.tutorial=this.add.image(620,310,"tutorial-0"),this.nextButton=new o.ImageButton(this,717,500,"button-next-inicio-idle",null,"button-next-inicio-hold",function(){return t.nextCallback()}),this.levelHighligh=this.add.graphics().fillStyle(16761715,1),this.levelButtons=Array(7);for(var i=function(e){s.levelButtons[e]=new o.TextButton(s,170,180+45*e,"arial-rounded",18,200,50,function(){return t.levelCallback(e)}),s.levelButtons[e].tint=0},s=this,n=0;n<7;n++)i(n);this.backButton=new o.TextImageButton(this,854,488,"button-idle","button-hover",function(){t.setState(6),t.sound.play("down-sound")}).setVisible(!1);var a=this.add.image(854,200,e.mute?"button-volume-deactive":"button-volume-active").setInteractive();a.on("pointerdown",function(){e.mute?(t.sound.mute=!1,e.mute=!1,a.setTexture("button-volume-active")):(t.sound.mute=!0,e.mute=!0,a.setTexture("button-volume-deactive"))}),this.initialize()},e.prototype.initialize=function(){this.setState(6)},e.prototype.setState=function(t){this.deselectHighligh(),this.state=t;for(var e=0;e<7;e++)this.levelButtons[e].reset();switch(6!=this.state?this.backButton.setVisible(!0):this.backButton.setVisible(!1),this.state){case 6:this.levelButtons[0].setTextAndShape("1- Mirando con lupa").setScale(1,1).setInteractive(),this.levelButtons[1].setTextAndShape("2- Identificar en la imagen"),this.levelButtons[2].setTextAndShape("3- Ordenar la secuencia"),this.levelButtons[3].setTextAndShape("4- Proteger al trabajador"),this.levelButtons[4].setTextAndShape("5- Sopa de letras"),this.levelButtons[5].setTextAndShape("6- Verdadero o falso"),this.levelButtons[6].visible=!1,this.tutorial.setTexture("tutorial-0");break;case 0:this.levelButtons[0].setTextAndShape("1 - Mirando con lupa").setScale(1.05,1.05).disableInteractive(),this.levelButtons[1].setTextAndShape("   a - Garage   "),this.levelButtons[2].setTextAndShape("   b - Salida de la escuela   "),this.levelButtons[3].setTextAndShape("   c - Patio   "),this.levelButtons[4].visible=!1,this.levelButtons[5].visible=!1,this.levelButtons[6].visible=!1,this.tutorial.setTexture("tutorial-1");break;case 1:this.levelButtons[0].setTextAndShape("2 - Identificar en la imagen").setScale(1.05,1.05).disableInteractive(),this.levelButtons[1].setTextAndShape("   a - Aula   "),this.levelButtons[2].setTextAndShape("   b - Patio   "),this.levelButtons[3].setTextAndShape("   c - Calle   "),this.levelButtons[4].setTextAndShape("   d - Living   "),this.levelButtons[5].setTextAndShape("   e - Cocina   "),this.levelButtons[6].setTextAndShape("   f - Plaza   "),this.tutorial.setTexture("tutorial-2");break;case 2:this.levelButtons[0].setTextAndShape("3 - Ordenar la secuencia").setScale(1.05,1.05).disableInteractive(),this.levelButtons[1].setTextAndShape("   a - Aula   "),this.levelButtons[2].setTextAndShape("   b - Calle   "),this.levelButtons[3].setTextAndShape("   c - Cocina   "),this.levelButtons[4].visible=!1,this.levelButtons[5].visible=!1,this.levelButtons[6].visible=!1,this.tutorial.setTexture("tutorial-3");break;case 3:this.levelButtons[0].setTextAndShape("4 - Proteger al trabajador").setScale(1.2,1.2).disableInteractive(),this.levelButtons[1].setTextAndShape("   a - Primer grupo   "),this.levelButtons[2].setTextAndShape("   b - Segundo grupo   "),this.levelButtons[3].setTextAndShape("   c - Tercer grupo   "),this.levelButtons[4].visible=!1,this.levelButtons[5].visible=!1,this.levelButtons[6].visible=!1,this.tutorial.setTexture("tutorial-4");break;case 4:this.levelButtons[0].setTextAndShape("5 - Sopa de letras").setScale(1.05,1.05).disableInteractive(),this.levelButtons[1].visible=!1,this.levelButtons[2].visible=!1,this.levelButtons[3].visible=!1,this.levelButtons[4].visible=!1,this.levelButtons[5].visible=!1,this.levelButtons[6].visible=!1,this.tutorial.setTexture("tutorial-5"),this.nextButton.visible=!0;break;case 5:this.levelButtons[0].setTextAndShape("6 - Verdadero o falso").setScale(1.05,1.05).disableInteractive(),this.levelButtons[1].visible=!1,this.levelButtons[2].visible=!1,this.levelButtons[3].visible=!1,this.levelButtons[4].visible=!1,this.levelButtons[5].visible=!1,this.levelButtons[6].visible=!1,this.tutorial.setTexture("tutorial-6"),this.nextButton.visible=!0}},e.prototype.levelCallback=function(t){this.sound.play("down-sound"),-1!=this.selected?(this.levelButtons[this.selected].reset(),this.levelHighligh.clear()):this.nextButton.visible=!0,this.levelHighligh.fillStyle(16761715,1).fillRoundedRect(this.levelButtons[t].x-5,this.levelButtons[t].y-5,this.levelButtons[t].width+10,this.levelButtons[t].height+10,5),this.levelButtons[t].disableInteractive(),this.selected=t},e.prototype.deselectHighligh=function(){this.levelHighligh.clear(),this.selected=-1,this.nextButton.visible=!1},e.prototype.nextCallback=function(){if(this.sound.play("down-sound"),6!=this.state)switch(this.state){case 0:this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["LupaScene",{level:this.selected-1}],this.scene);break;case 1:this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["HotspotScene",{level:this.selected-1}],this.scene);break;case 2:this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["SequenceScene",{level:this.selected-1}],this.scene);break;case 3:this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["DressScene",{level:this.selected-1}],this.scene);break;case 4:this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["SoupScene"],this.scene);break;case 5:this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["QuizScene"],this.scene)}else this.setState(this.selected)},e.prototype.playFadeEnterAnimation=function(){var t=this.add.graphics();t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=1,this.tweens.add({targets:t,duration:500,alpha:0})},e.prototype.playFadeExitAnimation=function(){var t=this.add.graphics().setDepth(50);t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=0,this.tweens.add({targets:t,duration:500,alpha:1})},e.mute=!1,e}(Phaser.Scene);e.MenuScene=a},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(0),r=i(6);!function(t){t[t.INIT=0]="INIT",t[t.GAME=1]="GAME",t[t.END=2]="END"}(o||(o={}));var h=function(t){function e(e){return t.call(this,{key:"LupaScene"})||this}return n(e,t),e.prototype.init=function(t){this.level=t.level},e.prototype.preload=function(){this.load.image("lupa","./bin/assets/lupa/lupa.png"),this.load.image("circle","./bin/assets/lupa/circle-14.png"),this.load.image("lupa-background-"+this.level,"./bin/assets/lupa/level-"+this.level+"/background.png")},e.prototype.create=function(){var t=this;this.add.image(0,0,"background").setOrigin(0,0),this.add.image(768,11,"right-note").setOrigin(0,0),this.add.image(0,0,"lupa-background-"+this.level).setOrigin(0,0),this.add.sprite(0,0,"lupa-scene-"+this.level+"-0").setOrigin(0,0).play("lupa-scene-"+this.level),this.textCounter=this.add.bitmapText(820+(1==this.level?-10:0),150,"arial-rounded","",60).setTint(2434341),new a.TextImageButton(this,854,488,"button-idle","button-hover",function(){return t.backCallback()}),this.lupa=this.add.image(855,320,"lupa").setScale(.8,.8).setDepth(5),this.lupa.setInteractive(),this.lupa.on("pointerdown",function(){return t.pickUp()}),this.input.on("pointerup",function(){return t.release()}),this.loadLevel(),this.playFadeEnterAnimation()},e.prototype.loadLevel=function(){switch(this.state=o.GAME,this.picked=!1,this.selected=-1,this.counter=0,this.solvedCounter=0,this.level){case 0:this.targets=new Array(9),this.targets[0]=new r.LupaTarget(this,1265,490),this.targets[1]=new r.LupaTarget(this,320,780),this.targets[2]=new r.LupaTarget(this,600,600),this.targets[3]=new r.LupaTarget(this,170,920),this.targets[4]=new r.LupaTarget(this,865,95),this.targets[5]=new r.LupaTarget(this,960,425),this.targets[6]=new r.LupaTarget(this,1120,945),this.targets[7]=new r.LupaTarget(this,735,767),this.targets[8]=new r.LupaTarget(this,395,380);break;case 1:this.targets=new Array(10),this.targets[0]=new r.LupaTarget(this,515,240),this.targets[1]=new r.LupaTarget(this,200,480),this.targets[2]=new r.LupaTarget(this,925,760),this.targets[3]=new r.LupaTarget(this,575,855),this.targets[4]=new r.LupaTarget(this,205,280),this.targets[5]=new r.LupaTarget(this,775,525),this.targets[6]=new r.LupaTarget(this,275,140),this.targets[7]=new r.LupaTarget(this,418,512),this.targets[8]=new r.LupaTarget(this,1212,487),this.targets[9]=new r.LupaTarget(this,1390,790);break;case 2:this.targets=new Array(8),this.targets[0]=new r.LupaTarget(this,340,970),this.targets[1]=new r.LupaTarget(this,1350,840),this.targets[2]=new r.LupaTarget(this,880,925),this.targets[3]=new r.LupaTarget(this,555,730),this.targets[4]=new r.LupaTarget(this,1080,275),this.targets[5]=new r.LupaTarget(this,935,460),this.targets[6]=new r.LupaTarget(this,325,475),this.targets[7]=new r.LupaTarget(this,525,485)}this.textCounter.text="0/"+this.targets.length},e.prototype.pickUp=function(){this.sound.play("pick-sound"),this.state==o.GAME&&(this.picked=!0,this.lupa.setRotation(315*Phaser.Math.DEG_TO_RAD).setScale(1,1).setPosition(this.input.x-50,this.input.y-50))},e.prototype.release=function(){this.state==o.GAME&&this.picked&&(this.sound.play("drop-sound"),this.lupa.setPosition(855,320).setRotation(0).setScale(.8,.8),this.picked=!1)},e.prototype.update=function(t,e){if(this.state==o.GAME&&(-1!=this.selected&&(this.targets[this.selected].isInside(this.input.x-78,this.input.y-78)&&this.picked?(this.counter+=e,this.counter>1e3&&(this.targets[this.selected].markSolved(),this.sound.play("mark-sound"),this.solvedCounter++,this.textCounter.text=this.solvedCounter+"/"+this.targets.length)):(this.selected=-1,this.counter=0)),this.solvedCounter==this.targets.length&&(this.state=o.END,this.release(),this.sound.play("victory-sound"),this.time.delayedCall(2e3,this.loadFinish,[],this)),this.picked)){for(var i=0;i<this.targets.length;i++)this.targets[i].isInside(this.input.x-78,this.input.y-78)&&(this.selected=i);this.lupa.setPosition(this.input.x-50,this.input.y-50)}},e.prototype.backCallback=function(){this.sound.play("down-sound"),this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["MenuScene"],this.scene)},e.prototype.loadFinish=function(){var t=this;this.add.graphics().fillStyle(5329233,.55).fillRect(0,0,960,540).setDepth(10),this.add.image(480,270,"win-background").setDepth(11),this.add.image(330,320,"button-replay-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["LupaScene",{level:t.level}],t.scene)}),this.level<2&&this.add.image(480,320,"button-next-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["LupaScene",{level:t.level+1}],t.scene)}),this.add.image(630,320,"button-menu-idle").setDepth(15).setInteractive().on("pointerdown",function(){return t.backCallback()})},e.prototype.playFadeEnterAnimation=function(){var t=this.add.graphics();t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=1,this.tweens.add({targets:t,duration:500,alpha:0})},e.prototype.playFadeExitAnimation=function(){var t=this.add.graphics().setDepth(50);t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=0,this.tweens.add({targets:t,duration:500,alpha:1})},e}(Phaser.Scene);e.LupaScene=h},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,s){var n=this;return i*=.5,s*=.5,(n=t.call(this,e,i,s,"circle")||this).visible=!1,e.add.existing(n),n}return n(e,t),e.prototype.isInside=function(t,e){return!this.visible&&(t-=this.x,t*=t,e-=this.y,t+(e*=e)<1600)},e.prototype.markSolved=function(){this.visible=!0},e}(Phaser.GameObjects.Image);e.LupaTarget=o},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(0),r=i(1);!function(t){t[t.INIT=0]="INIT",t[t.GAME=1]="GAME",t[t.END=2]="END"}(o||(o={}));var h=[6,4,4,5,5,5],l=function(t){function e(e){return t.call(this,{key:"HotspotScene"})||this}return n(e,t),e.prototype.init=function(t){this.level=t.level},e.prototype.preload=function(){this.load.image("sticker","./bin/assets/hotspot/sticker.png"),this.load.image("marker","./bin/assets/hotspot/marker.png"),this.load.image("hotspot-background-"+this.level,"./bin/assets/hotspot/level-"+this.level+"/background.png")},e.prototype.create=function(){var t=this;this.add.image(0,0,"background").setOrigin(0,0),this.add.image(768,11,"right-note").setOrigin(0,0),this.add.image(0,0,"hotspot-background-"+this.level).setOrigin(0,0),this.add.sprite(0,0,"hotspot-scene-"+this.level+"-0").setOrigin(0,0).play("hotspot-scene-"+this.level),new a.TextImageButton(this,854,488,"button-idle","button-hover",function(){return t.backCallback()}),this.tags=new Array(h[this.level]),this.targets=new Array(h[this.level]);for(var e=function(e){i.targets[e]=i.add.image(0,0,"marker"),i.tags[e]=new r.DragTag(i,e),i.tags[e].setInteractive(),i.tags[e].on("pointerdown",function(){return t.pickUp(e)})},i=this,s=0;s<h[this.level];s++)e(s);switch(this.level){case 0:this.tags[0].addText(this,"CORTE",610,125),this.tags[1].addText(this,"ELECTRICIDAD",685,255).invert(),this.tags[2].addText(this,"DOLORES",725,385).invert(),this.tags[3].addText(this,"CAIDA",525,360).invert(),this.tags[4].addText(this,"RESBALAR",295,500),this.tags[5].addText(this,"DISFONIA",100,170),this.targets[0].setPosition(610,125),this.targets[1].setPosition(685,255),this.targets[2].setPosition(725,385),this.targets[3].setPosition(525,360),this.targets[4].setPosition(295,500),this.targets[5].setPosition(100,170);break;case 1:this.tags[0].addText(this,"CAIDA",242,60),this.tags[1].addText(this,"CAIDA",695,150).invert(),this.tags[2].addText(this,"GOLPE",445,380),this.tags[3].addText(this,"RESBALAR",560,185).invert(),this.targets[0].setPosition(242,60),this.targets[1].setPosition(695,150),this.targets[2].setPosition(445,380),this.targets[3].setPosition(560,185);break;case 2:this.tags[0].addText(this,"CAIDA",262,132).invert(),this.tags[1].addText(this,"CARGA",490,112).invert(),this.tags[2].addText(this,"CHOQUE",180,417),this.tags[3].addText(this,"GOLPE",587,362),this.targets[0].setPosition(262,132),this.targets[1].setPosition(490,112),this.targets[2].setPosition(180,417),this.targets[3].setPosition(587,362);break;case 3:this.tags[0].addText(this,"CAIDA",145,250),this.tags[1].addText(this,"ELECTRICIDAD",540,130),this.tags[2].addText(this,"QUEMADURA",720,240).invert(),this.tags[3].addText(this,"CORTE",335,367),this.tags[4].addText(this,"TROPEZAR",125,477),this.targets[0].setPosition(145,250),this.targets[1].setPosition(540,130),this.targets[2].setPosition(720,240),this.targets[3].setPosition(335,367),this.targets[4].setPosition(125,477);break;case 4:this.tags[0].addText(this,"ELECTRICIDAD",640,222),this.tags[1].addText(this,"QUEMADURA",340,270),this.tags[2].addText(this,"CORTE",202,437),this.tags[3].addText(this,"INCENDIO",380,180),this.tags[4].addText(this,"INTOXICACION",50,320),this.targets[0].setPosition(640,222),this.targets[1].setPosition(340,270),this.targets[2].setPosition(202,437),this.targets[3].setPosition(380,180),this.targets[4].setPosition(50,320);break;case 5:this.tags[0].addText(this,"CAIDA",405,310).invert(),this.tags[1].addText(this,"GOLPE",350,235).invert(),this.tags[2].addText(this,"CONTAGIO",75,105),this.tags[3].addText(this,"ELECTRICIDAD",707,200).invert(),this.tags[4].addText(this,"GOLPE",650,340).invert(),this.targets[0].setPosition(405,310),this.targets[1].setPosition(350,235),this.targets[2].setPosition(75,105),this.targets[3].setPosition(707,200),this.targets[4].setPosition(650,340)}this.input.on("pointerup",function(){return t.pickOff()}),this.playFadeEnterAnimation(),this.state=o.GAME,this.selected=-1,this.solvedCounter=0},e.prototype.pickUp=function(t){this.sound.play("pick-sound"),this.state==o.GAME&&(this.selected=t,this.tags[t].move(this.input.x,this.input.y),this.tags[t].pick())},e.prototype.pickOff=function(){this.state==o.GAME&&-1!=this.selected&&(this.sound.play("drop-sound"),this.tags[this.selected].drop(this.input.x,this.input.y)&&(this.solvedCounter++,this.solvedCounter==h[this.level]&&(this.sound.play("victory-sound"),this.time.delayedCall(2e3,this.loadFinish,[],this),this.state=o.END)),this.selected=-1)},e.prototype.update=function(t,e){-1!=this.selected&&this.tags[this.selected].move(this.input.x,this.input.y)},e.prototype.loadFinish=function(){var t=this;this.add.graphics().fillStyle(5329233,.55).fillRect(0,0,960,540).setDepth(10),this.add.image(480,270,"win-background").setDepth(11),this.add.image(330,320,"button-replay-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["HotspotScene",{level:t.level}],t.scene)}),this.level<5&&this.add.image(480,320,"button-next-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["HotspotScene",{level:t.level+1}],t.scene)}),this.add.image(630,320,"button-menu-idle").setDepth(15).setInteractive().on("pointerdown",function(){return t.backCallback()})},e.prototype.backCallback=function(){this.sound.play("down-sound"),this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["MenuScene"],this.scene)},e.prototype.playFadeEnterAnimation=function(){var t=this.add.graphics();t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=1,this.tweens.add({targets:t,duration:500,alpha:0})},e.prototype.playFadeExitAnimation=function(){var t=this.add.graphics().setDepth(50);t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=0,this.tweens.add({targets:t,duration:500,alpha:1})},e}(Phaser.Scene);e.HotspotScene=l},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(0),r=i(9);!function(t){t[t.INIT=0]="INIT",t[t.GAME=1]="GAME",t[t.END=2]="END"}(o||(o={}));var h=function(t){function e(e){return t.call(this,{key:"DressScene"})||this}return n(e,t),e.prototype.init=function(t){this.level=t.level},e.prototype.preload=function(){this.load.image("dress-background","./bin/assets/dress/background.png"),console.log("loading from "+3*this.level+" to "+(3*this.level+3));for(var t=3*this.level;t<3*this.level+3;t++){this.load.spritesheet("character-"+t,"./bin/assets/dress/character-"+t+"/spritesheet.png",{frameWidth:127.5,frameHeight:315});for(var e=0;e<3;e++)this.load.image("character-"+t+"item-"+e,"./bin/assets/dress/character-"+t+"/item-"+e+".png")}this.load.image("dress-name-"+this.level,"./bin/assets/dress/level-"+this.level+".png")},e.prototype.create=function(){var t,e=this;this.add.image(0,0,"background").setOrigin(0,0),this.add.image(768,11,"right-note").setOrigin(0,0),this.add.image(45,2,"dress-background").setOrigin(0,0),this.add.image(0,0,"dress-name-"+this.level).setOrigin(0,0),new a.TextImageButton(this,854,488,"button-idle","button-hover",function(){return e.backCallback()});for(var i=[0,1,2,3,4,5,6,7,8],s=i.length-1;s>0;s--){var n=Math.floor(Math.random()*(s+1));t=[i[n],i[s]],i[s]=t[0],i[n]=t[1]}this.items=new Array(9);var h=0;this.characters=new Array(3);for(s=0;s<3;s++){this.characters[s]=new r.DressChar(this,3*this.level+s,s);for(var l=function(t){u.items[h]=new r.DressItem(u,140+70*i[h],460,"character-"+(3*u.level+s)+"item-"+t,0,u.characters[s].getShape());var n=h;u.items[h].setInteractive().on("pointerdown",function(){return e.pickUp(n)}),h++},u=this,c=0;c<3;c++)l(c)}this.input.on("pointerup",function(){return e.pickOff()}),this.playFadeEnterAnimation(),this.state=o.GAME,this.selected=-1,this.solvedCounter=0},e.prototype.pickUp=function(t){this.state==o.GAME&&(this.sound.play("pick-sound"),this.selected=t,this.items[t].setPosition(this.input.x,this.input.y),this.items[t].setScale(.5,.5))},e.prototype.pickOff=function(){this.state==o.GAME&&-1!=this.selected&&(this.sound.play("drop-sound"),this.items[this.selected].drop(this.input.x,this.input.y)&&(this.solvedCounter++,this.items[this.selected].visible=!1,this.characters[Math.floor(this.selected/3)].addItem(this.selected%3),9==this.solvedCounter&&(this.sound.play("victory-sound"),this.time.delayedCall(2e3,this.loadFinish,[],this),this.state=o.END)),this.selected=-1)},e.prototype.update=function(t,e){-1!=this.selected&&this.items[this.selected].setPosition(this.input.x,this.input.y)},e.prototype.loadFinish=function(){var t=this;this.add.graphics().fillStyle(5329233,.55).fillRect(0,0,960,540).setDepth(10),this.add.image(480,270,"win-background").setDepth(11),this.add.image(330,320,"button-replay-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["DressScene",{level:t.level}],t.scene)}),this.level<2&&this.add.image(480,320,"button-next-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["DressScene",{level:t.level+1}],t.scene)}),this.add.image(630,320,"button-menu-idle").setDepth(15).setInteractive().on("pointerdown",function(){return t.backCallback()})},e.prototype.backCallback=function(){this.sound.play("down-sound"),this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["MenuScene"],this.scene)},e.prototype.playFadeEnterAnimation=function(){var t=this.add.graphics();t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=1,this.tweens.add({targets:t,duration:500,alpha:0})},e.prototype.playFadeExitAnimation=function(){var t=this.add.graphics().setDepth(50);t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=0,this.tweens.add({targets:t,duration:500,alpha:1})},e}(Phaser.Scene);e.DressScene=h},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,s){var n=t.call(this,e,125+234*s,30,"character-"+i)||this;return n.index=i,n.state=0,n.setOrigin(0,0),e.add.existing(n),n}return n(e,t),e.prototype.getShape=function(){return new Phaser.Geom.Rectangle(this.x,this.y,this.width,this.height)},e.prototype.addItem=function(t){this.state+=1<<t,this.setFrame(this.state)},e}(Phaser.GameObjects.Image);e.DressChar=o;var a=function(t){function e(e,i,s,n,o,a){var r=t.call(this,e,i,s,n,o)||this;return r.xInitial=i,r.yInitial=s,r.setScale(60/(r.height>r.width?r.height:r.width)),r.dropZone=a,e.add.existing(r),r}return n(e,t),e.prototype.drop=function(t,e){if(this.dropZone.contains(t,e))return this.disableInteractive(),this.setPosition(this.dropZone.centerX,this.dropZone.centerY),!0;this.setPosition(this.xInitial,this.yInitial),this.setScale(60/(this.height>this.width?this.height:this.width))},e}(Phaser.GameObjects.Image);e.DressItem=a},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(0),r=i(1);!function(t){t[t.INIT=0]="INIT",t[t.GAME=1]="GAME",t[t.END=2]="END"}(o||(o={}));var h=function(t){function e(e){return t.call(this,{key:"SequenceScene"})||this}return n(e,t),e.prototype.init=function(t){this.level=t.level},e.prototype.preload=function(){this.load.image("sequence-background","./bin/assets/sequence/background.png"),this.load.spritesheet("sequence-scene-"+this.level,"./bin/assets/sequence/level-"+this.level+".png",{frameWidth:103-(this.level>0?.5:0),frameHeight:103})},e.prototype.create=function(){var t,e=this;this.add.image(0,0,"background").setOrigin(0,0),this.add.image(43,0,"sequence-background").setOrigin(0,0),new a.TextImageButton(this,854,488,"button-idle","button-hover",function(){return e.backCallback()});for(var i=6,s=0;s<3;s++)for(var n=0;n<2;n++)this.add.image(139+136*n,160+133*s,"sequence-scene-"+this.level,i).setScale(1.1,1.1),i++;for(var h=[0,1,2,3,4,5],l=h.length-1;l>0;l--){var u=Math.floor(Math.random()*(l+1));t=[h[u],h[l]],h[l]=t[0],h[u]=t[1]}i=0;this.pieces=new Array(6);for(s=0;s<3;s++){var c=function(){d.pieces[i]=new r.DragImage(d,d.getX(h[i]),d.getY(h[i]),"sequence-scene-"+d.level,i,new Phaser.Geom.Rectangle(459+136*n,104+133*s,112,112)).setScale(.8,.8);var t=i;d.pieces[i].setInteractive(),d.pieces[i].on("pointerdown",function(){return e.pickUp(t)}),i++},d=this;for(n=0;n<2;n++)c()}this.input.on("pointerup",function(){return e.pickOff()}),this.playFadeEnterAnimation(),this.state=o.GAME,this.selected=-1,this.solvedCounter=0},e.prototype.getX=function(t){return 800+t%2*90},e.prototype.getY=function(t){return 0==t||1==t?115:2==t||3==t?205:4==t||5==t?295:115+90*t},e.prototype.pickUp=function(t){this.state==o.GAME&&(this.sound.play("pick-sound"),this.selected=t,this.pieces[t].setPosition(this.input.x,this.input.y),this.pieces[t].setScale(1.1,1.1))},e.prototype.pickOff=function(){this.state==o.GAME&&-1!=this.selected&&(this.sound.play("drop-sound"),this.pieces[this.selected].drop(this.input.x,this.input.y)&&(this.solvedCounter++,6==this.solvedCounter&&(this.sound.play("victory-sound"),this.time.delayedCall(2e3,this.loadFinish,[],this),this.state=o.END)),this.selected=-1)},e.prototype.update=function(t,e){-1!=this.selected&&this.pieces[this.selected].setPosition(this.input.x,this.input.y)},e.prototype.loadFinish=function(){var t=this;this.add.graphics().fillStyle(5329233,.55).fillRect(0,0,960,540).setDepth(10),this.add.image(480,270,"win-background").setDepth(11),this.add.image(330,320,"button-replay-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["SequenceScene",{level:t.level}],t.scene)}),this.level<2&&this.add.image(480,320,"button-next-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["SequenceScene",{level:t.level+1}],t.scene)}),this.add.image(630,320,"button-menu-idle").setDepth(15).setInteractive().on("pointerdown",function(){return t.backCallback()})},e.prototype.backCallback=function(){this.sound.play("down-sound"),this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["MenuScene"],this.scene)},e.prototype.playFadeEnterAnimation=function(){var t=this.add.graphics();t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=1,this.tweens.add({targets:t,duration:500,alpha:0})},e.prototype.playFadeExitAnimation=function(){var t=this.add.graphics().setDepth(50);t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=0,this.tweens.add({targets:t,duration:500,alpha:1})},e}(Phaser.Scene);e.SequenceScene=h},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(0),r=i(12);!function(t){t[t.INIT=0]="INIT",t[t.GAME=1]="GAME",t[t.END=2]="END"}(o||(o={}));var h=[5291126,4120017,5905619,1319904,14206237,5759044,15361860,14490395,2315977,15587122,13254882,2214606,8047666],l=function(t){function e(e){return t.call(this,{key:"SoupScene"})||this}return n(e,t),e.prototype.preload=function(){this.load.image("soup","./bin/assets/soup/soup.png"),this.load.image("soup-bar","./bin/assets/soup/selector.png")},e.prototype.create=function(){var t=this;this.add.image(0,0,"background").setOrigin(0,0),this.add.image(768,11,"right-note").setOrigin(0,0),this.add.image(0,0,"note-background").setOrigin(0,0),this.add.image(305,164,"soup").setOrigin(0,0),this.selector=this.add.image(0,0,"soup-bar").setVisible(!1).setTint(9109348),this.words=new Array(13);for(var e=0;e<this.words.length;e++)this.words[e]=new r.SoupWord(this,e);this.words[0].setAnswer("PREVENCION",4,4,0,9),this.words[1].setAnswer("LAVANDINA",0,8,9,1),this.words[2].setAnswer("CELULAR",5,11,11,11),this.words[3].setAnswer("ORDENAR",12,12,5,11),this.words[4].setAnswer("SEMAFORO",0,0,0,7),this.words[5].setAnswer("REPARAR",6,12,0,6),this.words[6].setAnswer("QUEMADURA",3,11,11,3),this.words[7].setAnswer("VENENO",1,6,7,2),this.words[8].setAnswer("CASCO",0,4,8,8),this.words[9].setAnswer("INFLAMABLE",3,12,12,3),this.words[10].setAnswer("BOMBERO",5,11,8,2),this.words[11].setAnswer("GASISTA",0,6,12,12),this.words[12].setAnswer("ESPALDA",4,10,4,10),this.questionNumber=this.add.bitmapText(261,95,"arial-rounded","",38).setTint(2434341),this.question=this.add.bitmapText(298,110,"arial-rounded","",20).setTint(2434341),new a.TextImageButton(this,854,488,"button-idle","button-hover",function(){return t.backCallback()}),this.input.on("pointerdown",function(){return t.onDown()}),this.input.on("pointerup",function(){return t.onUp()}),this.playFadeEnterAnimation(),this.state=o.GAME,this.selected=0,this.loadSelected()},e.prototype.loadSelected=function(){switch(this.words[this.selected].setActive(),this.questionNumber.text=this.selected+1+")",this.selected>8?this.questionNumber.x=241:this.questionNumber.x=261,this.selected){case 0:this.question.text="Evita accidentes y enfermedades.";break;case 1:this.question.text="Sirve para limpiar y desinfectar. Siempre hay \nque guardarla en un lugar seguro.";break;case 2:this.question.text="Se usa para hablar y sacar fotos, pero nunca \ncaminando.";break;case 3:this.question.text="Guardar las cosas luego de usarlas y ponerlas \nen un lugar.";break;case 4:this.question.text="Ordena el tránsito y el cruce de las personas \nen las calles.";break;case 5:this.question.text="Lo hacemos con las cosas que están rotas o no \nfuncionan para poderlas usar.";break;case 6:this.question.text="Daño en la piel por tocar algo muy caliente.";break;case 7:this.question.text="Se usa para matar insectos y otras plagas, se \ndebe guardar en un lugar seguro.";break;case 8:this.question.text="Protege la cabeza.";break;case 9:this.question.text="Característica de algo que se prende fuego fácil \ny rápidamente.";break;case 10:this.question.text="Persona responsable de apagar el fuego de un \nincendio.";break;case 11:this.question.text="Única persona responsable de conectar y \narreglar los artefactos a gas.";break;case 12:this.question.text="Parte del cuerpo que nos duele cuando cargamos \nla mochila con muchos útiles y libros."}},e.prototype.onDown=function(){if(this.state==o.GAME){if(this.firstPoint=this.calculateGrid(this.input.mousePointer.x,this.input.mousePointer.y),null==this.firstPoint)return;this.selector.setVisible(!0).setPosition(318+24*this.firstPoint.x,178+24*this.firstPoint.y)}},e.prototype.update=function(t,e){if(this.state==o.GAME&&null!=this.firstPoint){var i=this.calculateGrid(this.input.mousePointer.x,this.input.mousePointer.y);null!=i&&this.setSelector(i)}},e.prototype.onUp=function(){if(this.state==o.GAME&&null!=this.firstPoint){var t=this.calculateGrid(this.input.mousePointer.x,this.input.mousePointer.y);null!=t&&this.words[this.selected].isSolved(this.firstPoint.x,t.x,this.firstPoint.y,t.y)&&(this.sound.play("mark-sound"),this.selector.tint=h[this.selected],this.selected++,13==this.selected?(this.sound.play("victory-sound"),this.time.delayedCall(2e3,this.loadFinish,[],this)):this.loadSelected(),this.selector=this.add.image(0,0,"soup-bar").setVisible(!1).setTint(9109348)),this.firstPoint=null,this.selector.setVisible(!1)}},e.prototype.loadFinish=function(){var t=this;this.add.graphics().fillStyle(5329233,.55).fillRect(0,0,960,540).setDepth(10),this.add.image(480,270,"win-background").setDepth(11),this.add.image(330,320,"button-replay-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["SoupScene"],t.scene)}),this.add.image(630,320,"button-menu-idle").setDepth(15).setInteractive().on("pointerdown",function(){return t.backCallback()})},e.prototype.calculateGrid=function(t,e){for(var i=307,s=166,n=0;n<13;n++){for(var o=0;o<13;o++){if(t>i&&e>s&&t<i+24&&e<s+24)return new Phaser.Geom.Point(n,o);s+=24}s=166,i+=24}return null},e.prototype.setSelector=function(t){var e=this.firstPoint.x-t.x,i=this.firstPoint.y-t.y;0==i?(this.selector.scaleX=Math.abs(e)+1,this.selector.setRotation(0),this.selector.setPosition(318+12*(this.firstPoint.x+t.x),178+12*(this.firstPoint.y+t.y))):0==e?(this.selector.scaleX=Math.abs(i)+1,this.selector.setRotation(1.5708),this.selector.setPosition(318+12*(this.firstPoint.x+t.x),178+12*(this.firstPoint.y+t.y))):e==i?(this.selector.scaleX=Math.sqrt(e*e+i*i)+1,this.selector.setRotation(.785398),this.selector.setPosition(318+12*(this.firstPoint.x+t.x),178+12*(this.firstPoint.y+t.y))):e==-i&&(this.selector.scaleX=Math.sqrt(e*e+i*i)+1,this.selector.setRotation(-.785398),this.selector.setPosition(318+12*(this.firstPoint.x+t.x),178+12*(this.firstPoint.y+t.y)))},e.prototype.backCallback=function(){this.sound.play("down-sound"),this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["MenuScene"],this.scene)},e.prototype.playFadeEnterAnimation=function(){var t=this.add.graphics();t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=1,this.tweens.add({targets:t,duration:500,alpha:0})},e.prototype.playFadeExitAnimation=function(){var t=this.add.graphics().setDepth(50);t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=0,this.tweens.add({targets:t,duration:500,alpha:1})},e}(Phaser.Scene);e.SoupScene=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){this.index=e,this.word=t.add.bitmapText(805,135+22*e,"arial-rounded","Ejemplo "+e,16),this.word.tint=4144959}return t.prototype.setAnswer=function(t,e,i,s,n){this.text=t,this.x0=e,this.x1=i,this.y0=s,this.y1=n,this.word.text=t.charAt(0);for(var o=0;o<t.length-2;o++)this.word.text+=" _";this.word.text+=" "+t.charAt(t.length-1)},t.prototype.setActive=function(){this.word.tint=8106026},t.prototype.isSolved=function(t,e,i,s){return(t==this.x0&&e==this.x1&&i==this.y0&&s==this.y1||t==this.x1&&e==this.x0&&i==this.y1&&s==this.y0)&&(this.word.text=this.text,!0)},t}();e.SoupWord=s},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=i(0);!function(t){t[t.INIT=0]="INIT",t[t.GAME=1]="GAME",t[t.END=2]="END"}(o||(o={}));var r=[!1,!1,!0,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!0,!0,!0],h=function(t){function e(e){var i=t.call(this,{key:"QuizScene"})||this;return i.selected=1,i.answers=Array(20),i}return n(e,t),e.prototype.preload=function(){this.load.image("quiz-background","./bin/assets/quiz/background.png");for(var t=0;t<20;t++)this.load.image("quiz-image-"+t,"./bin/assets/quiz/"+t+".png");this.load.image("quiz-true","./bin/assets/quiz/true.png"),this.load.image("quiz-false","./bin/assets/quiz/false.png")},e.prototype.create=function(){var t=this;this.add.image(0,0,"quiz-background").setOrigin(0,0),this.questionNumber=this.add.bitmapText(311,150,"arial-rounded","1)",38).setTint(2434341),this.question=this.add.bitmapText(348,165,"arial-rounded","Ejemplo",20).setTint(2434341),this.image=this.add.image(397,357,"quiz-image-1"),this.trueSlot=new Phaser.Geom.Rectangle(571,294,58,46),this.falseSlot=new Phaser.Geom.Rectangle(571,351,58,46);var e=0;this.questionSlot=new Array(20),this.questionAns=new Array(20);for(var i=0;i<2;i++)for(var s=0;s<10;s++)this.questionSlot[e]=new Phaser.Geom.Rectangle(793+65*i,129+30*s,59,29),this.questionAns[e]=this.add.image(843+65*i,144+29*s,"quiz-true").setScale(.6).setVisible(!1),e++;this.selection=this.add.image(0,0,"quiz-true").setVisible(!1),this.nextButton=new a.ImageButton(this,650,450,"button-next-inicio-idle",null,"button-next-inicio-hold",function(){return t.nextCallback()}),new a.TextImageButton(this,854,488,"button-idle","button-hover",function(){return t.backCallback()}),this.input.on("pointerdown",function(){return t.onDown()}),this.playFadeEnterAnimation(),this.state=o.GAME,this.loadQuestion(0)},e.prototype.nextCallback=function(){this.sound.play("down-sound"),this.questionAns[this.selected].setVisible(!0),this.answers[this.selected]==r[this.selected]?this.questionAns[this.selected].setTexture("quiz-true"):this.questionAns[this.selected].setTexture("quiz-false");for(var t=!0,e=0;e<20;e++)if(!this.questionAns[e].visible||this.answers[e]!=r[e]){t=!1;break}t&&(this.sound.play("victory-sound"),this.time.delayedCall(2e3,this.loadFinish,[],this)),19==this.selected&&(this.selected=-1),this.loadQuestion(this.selected+1)},e.prototype.onDown=function(){if(this.state==o.GAME){if(this.trueSlot.contains(this.input.mousePointer.x,this.input.mousePointer.y))return void this.markAnswer(!0);if(this.falseSlot.contains(this.input.mousePointer.x,this.input.mousePointer.y))return void this.markAnswer(!1);for(var t=0;t<20;t++)if(this.questionSlot[t].contains(this.input.mousePointer.x,this.input.mousePointer.y))return this.sound.play("down-sound"),void this.loadQuestion(t)}},e.prototype.markAnswer=function(t){this.sound.play("mark-sound"),this.selection.setVisible(!0),this.answers[this.selected]=t,t?this.selection.setPosition(609,307):this.selection.setPosition(609,365),this.nextButton.setVisible(!0)},e.prototype.loadQuestion=function(t){switch(this.nextButton.setVisible(!1),this.selected=t,this.questionNumber.text=this.selected+1+")",this.selected>8?this.questionNumber.x=291:this.questionNumber.x=311,this.image.setTexture("quiz-image-"+this.selected),this.selected){case 0:this.question.text="Debemos cruzar la calle por \nla mitad de la cuadra, \ncorriendo o escuchando \nmúsica con los auriculares.";break;case 1:this.question.text="Usar casco es obligatorio \npara los conductores de las \nmotos pero no para \nacompañantes.";break;case 2:this.question.text="Enchufar muchos artefactos \neléctricos en el mismo lugar \npuede provocar un incendio.";break;case 3:this.question.text="No debemos correr con \nlápices o chupetines en \nla boca.";break;case 4:this.question.text="Debemos abrir la heladera \ndescalzos y / o con las manos \nmojadas.";break;case 5:this.question.text="Si tienen etiqueta, los \nproductos químicos pueden \nestar al alcance de los niños.";break;case 6:this.question.text="Si hace mucho calor es mejor \nno usar elementos de \nprotección personal.";break;case 7:this.question.text="Los ruidos fuertes y \npersistentes pueden \nperjudicar el oído y la voz.";break;case 8:this.question.text="Cuando usamos la patineta no \nes necesario proteger ninguna \nparte de nuestro cuerpo.";break;case 9:this.question.text="Correr carreras cuando el piso \nde la escuela está mojado no \ntiene ningún riesgo.";break;case 10:this.question.text="Si vemos una situación de \nriesgo debemos acercarnos \npara saber de qué se trata.";break;case 11:this.question.text="Guardar de manera ordenada \nlos útiles y herramientas \ndespués de usarlas ayuda \na prevenir accidentes.";break;case 12:this.question.text="Si el semáforo peatonal me da \npaso no hace falta mirar \nhacia ambos lados al cruzar \nla calle.";break;case 13:this.question.text="Mientras estemos atentos no \nimporta si dejamos cables \natravesados en los lugares \nde paso.";break;case 14:this.question.text="Pararme arriba de los \nmuebles no tiene ningún \nriesgo.";break;case 15:this.question.text="Todos los incendios se pueden \napagar con agua.";break;case 16:this.question.text="El único riesgo de hamacarse \nen la silla es romperla.";break;case 17:this.question.text="Si vemos cables colgados o \nsaliendo de algún lugar, \ndebemos avisar a un adulto \ny no tocarlos.";break;case 18:this.question.text="Mirar sin protección la luz \nde una soldadura daña \nmucho la vista.";break;case 19:this.question.text="Cuando alguien no se cuida \npuede poner en riesgo al otro."}this.selection.setVisible(!1)},e.prototype.loadFinish=function(){var t=this;this.add.graphics().fillStyle(5329233,.55).fillRect(0,0,960,540).setDepth(10),this.add.image(480,270,"win-background").setDepth(11),this.add.image(330,320,"button-replay-idle").setDepth(15).setInteractive().on("pointerdown",function(){t.playFadeExitAnimation(),t.time.delayedCall(500,t.scene.start,["QuizScene"],t.scene)}),this.add.image(630,320,"button-menu-idle").setDepth(15).setInteractive().on("pointerdown",function(){return t.backCallback()})},e.prototype.backCallback=function(){this.sound.play("down-sound"),this.playFadeExitAnimation(),this.time.delayedCall(500,this.scene.start,["MenuScene"],this.scene)},e.prototype.playFadeEnterAnimation=function(){var t=this.add.graphics();t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=1,this.tweens.add({targets:t,duration:500,alpha:0})},e.prototype.playFadeExitAnimation=function(){var t=this.add.graphics().setDepth(50);t.fillStyle(0,1),t.fillRect(0,0,960,560),t.alpha=0,this.tweens.add({targets:t,duration:500,alpha:1})},e}(Phaser.Scene);e.QuizScene=h}]);